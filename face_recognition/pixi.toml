[project]
name = "face-recognition-agent"
version = "0.1.0"
description = "Webcam-based face recognition agent with A2A protocol support"
authors = ["A2A Examples Contributors"]
channels = ["conda-forge"]
# TensorFlow does not publish wheels for macOS Intel (osx-64) anymore, so we limit
# the supported platforms to ones that can actually install the dependencies.
platforms = ["linux-64", "osx-arm64", "win-64"]

[tasks]
# Run the face recognition agent (direct start with speech)
run = "python face_recognition_agent.py"

# Run with custom questions
run-custom = { cmd = "python face_recognition_agent.py --questions favorite_food favorite_color favorite_music" }

# Run without speech (text only)
run-text = "python face_recognition_agent.py --no-speech"

# Run with menu
run-menu = "python face_recognition_agent.py --menu"

# Start the A2A HTTP server
server = "python server.py"

# Run the client demo
client = "python client_example.py"

# Run the interactive client
client-interactive = "python client_example.py --interactive"

# Run example demos
examples = "python example_usage.py"

# Run conversation examples
conversation-examples = "python conversation_example.py"

# Code formatting
format = "black ."
lint = "ruff check ."

# Help
help = { cmd = "python face_recognition_agent.py --help" }

[dependencies]
python = ">=3.10,<3.13"
numpy = ">=1.24.0"
pillow = ">=10.0.0"
httpx = ">=0.27.0"
pydantic = ">=2.0.0"
# Speech recognition dependencies (conda-forge when available)
portaudio = "*"  # System dependency for PyAudio

[pypi-dependencies]
opencv-python = ">=4.8.0"
insightface = ">=0.7.3"
onnxruntime = ">=1.16.0"
speechrecognition = ">=3.10.0"
openai-whisper = ">=20231117"
pyttsx3 = ">=2.90"
pyaudio = ">=0.2.14"  # Conda lacks osx-arm64 builds, so install from PyPI

[feature.dev.dependencies]
pytest = ">=7.0.0"
black = ">=23.0.0"
ruff = ">=0.1.0"

[feature.dev.tasks]
test = "pytest tests/"

[environments]
default = { solve-group = "default" }
dev = { features = ["dev"], solve-group = "default" }
